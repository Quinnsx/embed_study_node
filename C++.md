# C++

# 结构体 - > 类

> struct 结构体里面不能放函数，只能放函数指针，且无法访问函数自身的数据，class 类里面可以放结构体，能直接用函数里面的属性



# 库和条件注释

c中的标准输入输出库：cstdio （c中是stdio.h）

c++的输入输出库：iostream 

> std::cout、std::cin 表明是std命名空间中的对象
>
> 在函数外前面加上 use namespace std  表面整个文件中的对象都是std这个命名空间

# 引用

```  c++
int &a = b; 
```

1. 引用变量必须初始化，定义后不可变
2. 引用变量和被引用变量的类型必须一致
3. 对引用变量的操作相当于对被引用变量的操作

解决C语言的形参无法直接改变值的问题（形参->传递指针->引用实参）

# 函数

## 默认形参

定义时默认形参放在在非默认形参的右边

调用函数时，不传入参数即为默认值

## 函数重载

C++允许在同一作用域中有同名函数，只要形参不同即可。

函数名+形参类型组成独特签名

不可通过返回类型区分

## 函数模板

用template关键字增加一个模板头，将数据类型变成模板参数

``` c++
template(typename T)

T add(T x, T y){   
    retrun x + y;
}

add<int> (a,b); 
有歧义时需要注明数据类型，显式表达，无歧义时可以不注明。
```

# 类模板

## string字符串类

函数

insert();

size();

substr();

## vector类

类似数组，但可以动态增减

函数：

size();

push_back();

popback();

resize();

# 动态内存分配

```c++
//C
malloc;free

//C++
T *p = new T; delete p;      //单块内存 
T *q = new T[5]; detele[] q; //多块内存
```

# 面向过程和面向对象

面向过程：

- 变量（对象）就是一些存储数据的内存块，而过程（函数）就是对这些数据进行处理。
- 大问题main，分成许多小问题（程序/过程）
- 存在安全性，不易维护和理解起来较抽象的问题

面向对象：

- 程序由不同对象相互协作完成。
- 对象之间通过发送接收消息来协作完成各种任务。

# 类

用户需要定义的类型包括：属性、方法、控制权限等。

```c++
//用 struct和class定义一个类
struct student{
    string name;       //属性
    double score;    
private:               //访问权限为私有
    printf(){          //方法  
        ...               
    }
}

student stu;           //实例化一个student类型变量（类）
```

访问类的方法

类类型的指针变量&：`student *p =  &stu;`

间接访问运算符->   ：`p-> score = ...;`

取内容运算符*        ：`(*p).name = ...;` 

this指针

类中默认有this指针`student* this = &stu;`

class中成员的默认访问权限是private、struct中成员的默认访问权限是public；

# 构造函数和析构函数

定义类时会调用默认构造函数、函数

如果在类中申请了资源就要重构析构函数，类中要加上拷贝构造函数；


# 派生类

从已有的类（基类）中派生出新的类，派生类继承基类的属性和方法（有几种继承方式），还可以有自己的属性和方法。

成员函数可以在体外定义

初始化成员列表，可以将值直接传给类

```c++
Employee::Employee(string n):name(n){
                                    //相当于name = n;    
}
```

派生类的构造函数不可以初始化基类的成员。

派生类的指针可以自动转化成基类指针。

基类指针在调用派生类函数时仍调用基类函数，虚函数可以防止该情况。

## 封装

## 继承

## 多态